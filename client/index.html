<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>Christ Collective - Uniting Christians Worldwide</title>
    <meta name="description" content="Christ Collective is a global community uniting Christians from all denominations through faith, service, and fellowship. Join our community today!" />
    <meta property="og:title" content="Christ Collective - Uniting Christians Worldwide" />
    <meta property="og:description" content="Join our global community dedicated to faith, service, and fellowship across all denominations." />
    <meta property="og:type" content="website" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/no-error-overlay.css">
    
    <!-- Target the specific Replit error overlay plugin -->
    <script>
      // Immediately disable the Replit runtime error modal plugin
      window.__REPLIT_DISABLE_ERROR_OVERLAY__ = true;
      
      // Override the specific plugin that's causing issues
      window.__replit_vite_plugin_runtime_error_modal_disabled__ = true;
      
      // Create a comprehensive overlay prevention system
      (function() {
        // Method 1: DOM Mutation Observer to catch overlays as they're created
        const observer = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            mutation.addedNodes.forEach(function(node) {
              if (node.nodeType === 1) { // Element node
                // Check for error overlay patterns
                if (node.hasAttribute && (
                  node.hasAttribute('vite-plugin-react-runtime-error-overlay') ||
                  node.hasAttribute('data-vite-dev-server-overlay') ||
                  (node.textContent && node.textContent.includes('Failed to fetch'))
                )) {
                  console.log('Removing error overlay:', node);
                  node.remove();
                }
                
                // Also check children
                const errorElements = node.querySelectorAll ? node.querySelectorAll(
                  '[vite-plugin-react-runtime-error-overlay], [data-vite-dev-server-overlay], div[style*="position: fixed"]'
                ) : [];
                errorElements.forEach(el => {
                  if (el.textContent && el.textContent.includes('Failed to fetch')) {
                    console.log('Removing nested error overlay:', el);
                    el.remove();
                  }
                });
              }
            });
          });
        });
        
        // Start observing immediately
        observer.observe(document.documentElement, {
          childList: true,
          subtree: true
        });
        
        // Method 2: Periodic cleanup
        setInterval(function() {
          const overlays = document.querySelectorAll(
            '[vite-plugin-react-runtime-error-overlay], [data-vite-dev-server-overlay]'
          );
          overlays.forEach(overlay => {
            console.log('Periodic removal of error overlay');
            overlay.remove();
          });
        }, 50);
        
        // Method 3: Override error display functions
        const originalError = console.error;
        console.error = function(...args) {
          // Suppress specific error overlay triggers but allow other errors
          if (args[0] && typeof args[0] === 'string' && args[0].includes('Failed to fetch')) {
            console.warn('Error suppressed:', ...args);
            return;
          }
          return originalError.apply(console, args);
        };
        
        console.log('Comprehensive error overlay prevention active');
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>
